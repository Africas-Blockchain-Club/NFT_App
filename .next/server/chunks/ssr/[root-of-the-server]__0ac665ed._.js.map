{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/sandile/NFT_App/src/context/UserContext.tsx"],"sourcesContent":["// context/UserContext.tsx\n'use client';\n\nimport Navbar from '@/components/Navbar';\n\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\n// Remove the id field from the User interface\ninterface User {\n  username: string;\n  password: string;\n  privateKey: string;\n  smartAccountAddress: string;\n  createdAt: string;\n  ownedNFTs: number[];\n}\n\n\ninterface UserContextType {\n  currentUser: User | null;\n  login: (username: string, password: string) => Promise<boolean>;\n  logout: () => void;\n  users: User[];\n  updateUserNFTs: (nftId: number) => Promise<boolean>; // NEW: Function to update NFTs\n  refreshUsers: () => Promise<void>; // NEW: Refresh users data\n}\n\nconst UserContext = createContext<UserContextType | undefined>(undefined);\n\nexport function UserProvider({ children }: { children: ReactNode }) {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [users, setUsers] = useState<User[]>([]);\n\n  // Load users and current user from localStorage on mount\n  useEffect(() => {\n    loadUsersData();\n  }, []);\n\n  // NEW: Function to load users data\n  const loadUsersData = async () => {\n    try {\n      const response = await fetch('data/users.json');\n      const usersData = await response.json();\n      setUsers(usersData);\n      \n      // Check if there's a logged-in user in localStorage\n      const savedUser = localStorage.getItem('currentUser');\n      if (savedUser) {\n        setCurrentUser(JSON.parse(savedUser));\n      }\n    } catch (error) {\n      console.error('Error loading users:', error);\n    }\n  };\n\n  // NEW: Function to refresh users data\n  const refreshUsers = async () => {\n    await loadUsersData();\n  };\n\nconst updateUserNFTs = async (nftId: number): Promise<boolean> => {\n  if (!currentUser) return false;\n\n  try {\n    // 1. Update local state immediately\n    const updatedUser = {\n      ...currentUser,\n      ownedNFTs: [...currentUser.ownedNFTs, nftId] // Add the new NFT ID\n    };\n    \n    setCurrentUser(updatedUser);\n    localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n\n    // 2. Update the users array - match by username\n    const updatedUsers = users.map(user => \n      user.username === currentUser.username\n        ? { ...user, ownedNFTs: [...user.ownedNFTs, nftId] } // Add the new NFT ID\n        : user\n    );\n    \n    setUsers(updatedUsers);\n\n    // 3. Store updated users in localStorage\n    localStorage.setItem('userData', JSON.stringify(updatedUsers));\n\n    return true;\n  } catch (error) {\n    console.error('Error updating NFTs:', error);\n    return false;\n  }\n};\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    try {\n      const user = users.find(\n        u => u.username === username && u.password === password\n      );\n\n      if (user) {\n        setCurrentUser(user);\n        localStorage.setItem('currentUser', JSON.stringify(user));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Login error:', error);\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n  };\n\n  return (\n    <UserContext.Provider value={{ \n      currentUser, \n      login, \n      logout, \n      users,\n      updateUserNFTs,\n      refreshUsers   \n    }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport function useUser() {\n  const context = useContext(UserContext);\n  if (context === undefined) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n}"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;AAM1B;AALA;;;AA2BA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAc;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAE7C,yDAAyD;IACzD,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,mCAAmC;IACnC,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,SAAS;YAET,oDAAoD;YACpD,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACb,eAAe,KAAK,KAAK,CAAC;YAC5B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,sCAAsC;IACtC,MAAM,eAAe;QACnB,MAAM;IACR;IAEF,MAAM,iBAAiB,OAAO;QAC5B,IAAI,CAAC,aAAa,OAAO;QAEzB,IAAI;YACF,oCAAoC;YACpC,MAAM,cAAc;gBAClB,GAAG,WAAW;gBACd,WAAW;uBAAI,YAAY,SAAS;oBAAE;iBAAM,CAAC,qBAAqB;YACpE;YAEA,eAAe;YACf,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;YAEnD,gDAAgD;YAChD,MAAM,eAAe,MAAM,GAAG,CAAC,CAAA,OAC7B,KAAK,QAAQ,KAAK,YAAY,QAAQ,GAClC;oBAAE,GAAG,IAAI;oBAAE,WAAW;2BAAI,KAAK,SAAS;wBAAE;qBAAM;gBAAC,EAAE,qBAAqB;mBACxE;YAGN,SAAS;YAET,yCAAyC;YACzC,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;YAEhD,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;QACT;IACF;IAEE,MAAM,QAAQ,OAAO,UAAkB;QACrC,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,CACrB,CAAA,IAAK,EAAE,QAAQ,KAAK,YAAY,EAAE,QAAQ,KAAK;YAGjD,IAAI,MAAM;gBACR,eAAe;gBACf,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;gBACnD,OAAO;YACT;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,eAAe;QACf,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YACA;YACA;YACA;YACA;YACA;QACF;kBACG;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///home/sandile/NFT_App/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///home/sandile/NFT_App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///home/sandile/NFT_App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}